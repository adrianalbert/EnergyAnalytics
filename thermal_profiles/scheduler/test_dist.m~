a = [1 2 3 4];
b = [3 4 5 2];
n = ones(1,4);
B = 3;
p = 4;

cvx_begin
    variable u(p);
    minimize(norm(a - u .* b),2);
    subject to
        u * ones(1,n) <= B;
cvx_end